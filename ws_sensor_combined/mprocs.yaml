# mprocs.yaml
procs:
  MicroXRCEAgent: 
    shell: "sudo MicroXRCEAgent serial --dev /dev/ttyACM0 -b 921600"
    autostart: true
    stop: SIGINT

  Colcon_Build:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && colcon build"
    autostart: true

  1_DoF_Offboard:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom offboard_computer.launch.py"
    autostart: false
    stop: SIGINT

  Px4_Ros2_Flight_Mode_Test:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom px4_ros2_flight_mode_test.launch.py"
    autostart: false
    stop: SIGINT

  Px4_Ros2_Message_Mapping_Test:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom px4_ros2_message_mapping_test.launch.py"
    autostart: false
    stop: SIGINT

  1_DoF_Controller_Test:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom controller_test.launch.py"
    autostart: false
    stop: SIGINT

  # Offboard_Control:
  #   shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch px4_ros_demos offboard_control.launch.py"
  #   autostart: false
  #   stop: SIGINT

  # Actuator_Servos:
  #   shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch px4_ros_demos actuator_servos.launch.py"
  #   autostart: false
  #   stop: SIGINT

  # Actuator_Motors:
  #   shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch px4_ros_demos actuator_motors.launch.py"
  #   autostart: false
  #   stop: SIGINT

  # Sensor_Combined:
  #   shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch px4_ros_demos sensor_combined.launch.py"
  #   autostart: false
  #   stop: SIGINT

  Plot_Juggler:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 run plotjuggler plotjuggler"
    autostart: true
    stop: SIGINT

  ROS_Setup:
    shell: /bin/bash --rcfile "source /opt/ros/humble/setup.bash && source install/local_setup.bash"
    autostart: true
