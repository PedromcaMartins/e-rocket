# mprocs.yaml
procs:
  MicroXRCEAgent: 
    shell: "sudo MicroXRCEAgent serial --dev /dev/ttyACM0 -b 921600"
    autostart: true
    stop: SIGINT

  Colcon_Build:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && colcon build"
    autostart: true

  MOCAP:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch mocap_interface vrpn.launch.py"
    autostart: false
    stop: SIGINT

  Offboard:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom offboard_computer.launch.py"
    autostart: false
    stop: SIGINT

  HITL:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom hitl_no_feedback.launch.py"
    autostart: false
    stop: SIGINT

  SITL:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom sitl_no_feedback.launch.py"
    autostart: false
    stop: SIGINT

  Flight_Mode_Test:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom px4_ros2_flight_mode_test.launch.py"
    autostart: false
    stop: SIGINT

  Message_Mapping_Test:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 launch one_degree_freedom px4_ros2_message_mapping_test.launch.py"
    autostart: false
    stop: SIGINT

  Plot_Juggler:
    shell: /bin/bash -c "source /opt/ros/humble/setup.bash && source install/local_setup.bash && ros2 run plotjuggler plotjuggler"
    autostart: true
    stop: SIGINT

  ROS_Setup:
    shell: /bin/bash --rcfile "source /opt/ros/humble/setup.bash && source install/local_setup.bash"
    autostart: true
